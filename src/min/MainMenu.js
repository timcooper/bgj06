/*! rainbows 27-10-2013 */
var Main=Main||{};Main.MainMenu=function(a){this.game=a},Main.MainMenu.prototype={currentLevel:1,unlockedLevels:[1],highestGates:{},music:null,create:function(){this.music=this.game.add.audio("menuLoop"),this.music.play("",0,.1,!0);var a=this.game.add.sprite(0,0,"title");a.fixedToCamera=!0;var b=this.game.add.sprite(58,116,"titleName");b.fixedToCamera=!0,this.game.add.tween(b).to({x:b.position.x+1,y:b.position.y+3},3e3,Phaser.Easing.Sinusoidal.In,!0).to({x:b.position.x-1,y:b.position.y-3},3e3,Phaser.Easing.Sinusoidal.Out,!0).loop();var c=this.game.add.button(60,207,"button",this.startGame,this,2,1,3);c.fixedToCamera=!0,c.name=1;for(var d=6;d>1;d--){var e,f,g,h=0;-1===this.unlockedLevels.indexOf(d)?(h=1,e=f=g=4*d-4):(e=4*d-2,f=4*d-3,g=4*d-1),c=this.game.add.button(60+42*(d-1),207,"button",this.startGame,this,e,f,g),c.fixedToCamera=!0,h&&(c.input.useHandCursor=!1),c.name=d}},startGame:function(a){var b=this.game.add.tween(this.music).to({volume:0},1e3,Phaser.Easing.Cubic.Out,!0);b.onComplete.add(this.stopMenuMusic,this),-1!==this.unlockedLevels.indexOf(a.name)&&(Main.MainMenu.prototype.currentLevel=a.name,this.game.state.start("game"))},stopMenuMusic:function(){this.music.stop()}};